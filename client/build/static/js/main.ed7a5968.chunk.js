(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(68)},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(13),c=n.n(r),i=(n(40),n(6)),l=n(7),u=n(9),s=n(8),m=n(10),d=(n(41),n(12)),f=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).onSubmit=n.onSubmit.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t=e.target.elements.query.value;console.log("search: ",t),this.props.onSearch(t)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onSearch,n=e.initialQuery;n&&t(n)}},{key:"render",value:function(){var e=this.props,t=e.initialQuery,n=e.filterText;return a.a.createElement("section",null,a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("div",null,a.a.createElement("h3",null,"Enter a word or phrase:"),a.a.createElement("input",{value:n,defaultValue:t,style:h,placeholder:"Find your book!",type:"text",name:"query"})," ",a.a.createElement("button",{style:v,type:"submit"},"Search"))))}}]),t}(o.Component),h={border:"3px solid #f54646"},v={margin:"10px"};n(42);function p(e){var t=e.volumeInfo||e,n=t.title,o=t.authors,r=t.description,c=(t.imageLinks,e.clickEvent),i=e.id,l=e.type;return console.log("type: ",l,"id:",i),a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"img-container"}),a.a.createElement("div",{className:"content"},a.a.createElement("ul",null,n&&a.a.createElement("li",null,a.a.createElement("strong",null,n)),o&&a.a.createElement("li",null,a.a.createElement("strong",null,"by:")," ",o.join(", ").trim()),r&&a.a.createElement("li",null,a.a.createElement("strong",null,"Description:")," ",r.substring(0,150)+" ...")),console.log("id:",i),"save"===e.type?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){return c({action:"view",id:i})},className:"viewBtn"},"View"),a.a.createElement("button",{onClick:function(){return c({action:"save",id:i})},className:"saveBtn"},"Save")):a.a.createElement("button",{onClick:function(){return c({action:"remove",id:i})},className:"deleteBtn"},"Remove")))}n(43);var b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){var t=n.props,o=t.books,a=t.saveBook,r=t.viewBook,c=t.removeBook,i=e.action,l=e.id,u=o.find(function(e){return e.id===l});switch(i.trim()){case"view":r(u);break;case"save":a(u);break;case"remove":c(u);break;default:console.log(i?"No button action found for '".concat(i,"'"):"No specified button action")}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.books;return a.a.createElement("div",null,t.length>0&&a.a.createElement("h3",null,"Books found:"),t.map(function(t){var n=t.id,o=t._id,r=n||o;return a.a.createElement(p,Object.assign({type:e.props.saveBook?"save":"search",key:r,id:r,clickEvent:e.handleClick},t))}))}}]),t}(o.Component),k=n(11),E=n.n(k),g="https://www.googleapis.com/books/v1/volumes?q=";n(62);var y=n(69),w={getBooks:function(){return E.a.get("/api/books")},getBook:function(e){return E.a.get("/api/books/"+e)},deleteBook:function(e){return E.a.delete("/api/books/"+e)},saveBook:function(e){return E.a.post("/api/books",e)}},B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={books:[],title:"",search:"",author:"",synopsis:"",keyName:"author"},n.onSearch=function(e){var t;e=e.trim().replace(/\s+/g,"+"),console.log("searched for: ",e),(t=e,E.a.get(g+"intitle+"+t)).then(function(t){return n.setState({books:t.data.items,title:"",author:"",synopsis:"",search:e})}).catch(function(e){return console.log(e)})},n.applyFilter=function(e){},n.viewBook=function(e){console.log("viewing book "+e);var t=e.volumeInfo.previewLink;n.openInNewTab(t)},n.saveBook=function(e){w.saveBook(n.map(e)).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"openInNewTab",value:function(e){window.open(e,"_blank").focus()}},{key:"map",value:function(e){var t=e.id,n=e.volumeInfo,o=n.title,a=n.authors,r=n.description,c=n.imageLinks,i=n.previewLink;return{id:t,title:o,authors:a,description:r,image:c.thumbnail,link:i}}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement(y.a,{to:"/Saved"},"Get Saved Books"),a.a.createElement("h1",null,"Books Search"),a.a.createElement(f,{onSearch:this.onSearch}),a.a.createElement(b,{saveBook:this.saveBook,viewBook:this.viewBook,books:this.state.books}))}}]),t}(o.Component),j=(n(65),function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={searchText:"",books:[]},n.loadBooks=function(){w.getBooks().then(function(e){return n.setState({books:e.data,title:"",author:"",synopsis:""})}).then(console.log("books loaded: ",n.state.books)).catch(function(e){return console.log(e)})},n.removeBook=function(e){var t=n.state.books.filter(function(t){return t._id!==e});n.setState({books:t}),n.deleteBook(e)},n.deleteBook=function(e){console.log("deleting book..."+e),e&&w.deleteBook(e).then(function(e){return n.loadBooks()}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(y.a,{to:"/Search"},"Search for Books"),this.state.books.count>0&&a.a.createElement("h1",null,"Books Saved"),a.a.createElement(b,{removeBook:this.removeBook,books:this.state.books}))}}]),t}(o.Component));function O(e){var t=e.fluid,n=e.children;return a.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}function S(e){var t=e.fluid,n=e.children;return a.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)}function N(e){var t=e.size,n=e.children;return a.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},n)}function x(e){var t=e.children;return a.a.createElement("div",{style:{height:300,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},t)}var C=function(){return a.a.createElement(O,{fluid:!0},a.a.createElement(S,null,a.a.createElement(N,{size:"md-12"},a.a.createElement(x,null,a.a.createElement("h1",null,"404 Page Not Found"),a.a.createElement("h1",null,a.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))},I=n(70),L=n(72),A=n(71),D=n(18),F=n(19);function T(){var e=Object(D.a)(["\n  color: #333;\n  font-size: 18px;\n  font-family: sans-serif;\n\n  &:before {\n    display: inline-block;\n    content: '';\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    border: solid 2px #ccc;\n    border-bottom-color: #66c;\n    animation: "," 1s linear infinite;\n    margin-right: 6px;\n    vertical-align: bottom;\n  }\n"]);return T=function(){return e},e}function q(){var e=Object(D.a)(["\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return q=function(){return e},e}var z=Object(F.b)(q()),M=F.a.div(T(),z),Q=function(){return a.a.createElement(M,null,"Loading")},R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(I.a,null,a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Google Books Search"),a.a.createElement("h2",null,"Save books for later!"),a.a.createElement(L.a,null,a.a.createElement(A.a,{component:B,RenderLoading:Q,exact:!0,path:"/",initialQuery:""}),a.a.createElement(A.a,{path:"/Search",component:B}),a.a.createElement(A.a,{path:"/Saved",component:j}),a.a.createElement(A.a,{component:C}))))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.ed7a5968.chunk.js.map